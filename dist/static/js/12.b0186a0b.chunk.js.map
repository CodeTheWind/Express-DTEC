{"version":3,"sources":["services/requestPath.ts","services/request.ts","pages/setting-center/components/SetingNav/index.tsx","pages/setting-center/components/EditProfile/index.tsx","pages/setting-center/components/UpdatePassword/index.tsx","pages/setting-center/index.tsx","services/user/service.ts","components/Header/index.tsx","assets/logo.png"],"names":["REQUEST_PATH","instance","axios","create","baseURL","timeout","withCredentials","interceptors","request","use","config","headers","error","console","warn","Promise","reject","response","data","url","params","get","post","qs","stringify","SettingNav","linkNav","title","link","className","this","map","item","to","props","type","key","React","Component","EditProfile","onSaveProfile","profile","avatar","undefined","upLoadImg","e","file","target","files","size","message","formdata","FormData","append","upLoadAvatar","bind","src","alt","onChange","placeholder","value","username","setUsername","profession","setProfession","company","setCompany","motto","setMotto","onClick","UpdatePassword","onHandleOldPasswd","setState","oldPasswd","onHandleNewPasswd","newPasswd","onHandleRNewPasswd","rNewPasswd","onSavePassword","state","oldPassword","newPassword","SettingCenter","componentDidMount","getPersonalData","then","res","onHandleUsername","onHandleProfession","onHandleCompany","onHandleMotto","uploadAvatar","path","updateAvatar","success","msg","updateUserData","updatePassword","match","component","Header","login","register","logout","getUserData","filePost","logo","require","NAV_LIST","module","exports"],"mappings":"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","file":"static/js/12.b0186a0b.chunk.js","sourcesContent":["const NODE_EDV = process.env.NODE_ENV;\n\nlet REQUEST_PATH: string = '';\n\nif (NODE_EDV === 'development') {\n  REQUEST_PATH = 'http://127.0.0.1:3000';\n} else {\n  REQUEST_PATH = 'http://127.0.0.1';\n}\n\nexport default REQUEST_PATH;","import axios from 'axios';\nimport qs from 'qs';\nimport REQUEST_PATH from './requestPath';\n\n/**\n * 自定义实例默认值\n */\nconst instance = axios.create({\n  baseURL: REQUEST_PATH,\n  timeout: 5000, // 请求超时时间\n  withCredentials: true,\n});\n\n/**\n * 添加请求拦截器 ，意思就是发起请求接口之前做什么事，一般都会发起加载一个loading\n */\ninstance.interceptors.request.use(\n  config => {\n    // 在发送请求之前做些什么（... 这里写你的展示loading的逻辑代码 ）\n    // 获取token，配置请求头\n    config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n    return config;\n  },\n  error => {\n    // 对请求错误做些什么，处理这个错误\n    // 可以直接处理或者展示出去,toast show()\n    console.warn(error);\n    return Promise.reject(error);\n  }\n);\n/**\n * 添加响应拦截器\n */\ninstance.interceptors.response.use(\n  response => {\n    let res = response.data;\n    return res;\n  },\n  error => {\n    //响应错误\n    // console.log(error)\n    return Promise.reject(error);\n  }\n)\n/**\n * 使用es6中的类，进行简单封装\n */\nexport class request {\n  // 使用async ... await\n  static async get(url: string, params: any) {\n    return await instance.get(url, {\n      params: params\n    });\n  }\n  static async post(url: string, params: any) {\n    return await instance.post(url, qs.stringify(params));\n  }\n  static async filePost(url: string, params: any) {\n    return await instance.post(url, params);\n  }\n};","import React from 'react';\nimport './style.less';\nimport { Link } from 'react-router-dom';\nimport { SettingNavPropsType } from '../../data';\n\nclass SettingNav extends React.Component<SettingNavPropsType> {\n  private linkNav = [\n    { title: '个人资料', link: 'profile' },\n    { title: '修改密码', link: 'password' },\n    { title: '账号关联', link: 'account' },\n  ]\n  render() {\n    return (\n      <nav className=\"setting-nav\">\n        <div className=\"container\">\n          {this.linkNav.map(item => (\n            <Link to={`/user/setting/${item.link}`}\n              className={item.link === this.props.type ? 'link' : ''}\n              key={item.link}\n            >{item.title}</Link>\n          ))}\n        </div>\n      </nav>\n    )\n  }\n}\n\nexport default SettingNav;","import React from 'react';\nimport { EditProfilePropsType } from '../../data';\nimport { message } from 'antd';\n\nconst BASE_URL = \"http://127.0.0.1\";\n\nclass EditProfile extends React.Component<EditProfilePropsType, any> {\n  constructor(props: EditProfilePropsType) {\n    super(props);\n\n    this.upLoadImg = this.upLoadImg.bind(this);\n  }\n  /**\n   * 保存\n   */\n  onSaveProfile = () => {\n    const params = this.props.profile;\n    params.avatar = undefined;\n    this.props.onSaveProfile(params);\n  }\n\n  /**\n   * 上传头像\n   */\n  upLoadImg = (e: any) => {\n    let file = e.target.files[0];\n\n    if (file.size > 1024 * 1024 * 2) {\n      message.error('图片过大， 请重新上传！', 2);\n    } else {\n      const formdata = new FormData();\n      formdata.append('file', file);\n\n      this.props.upLoadAvatar(formdata);\n    }\n\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <div className=\"card\">\n        <h2>个人资料</h2>\n        <div className=\"row first-row\">\n          <div className=\"label\">头像</div>\n          <div className=\"input\">\n            <div className=\"avatar\">\n              <img src={`${BASE_URL}${profile.avatar}`} alt=\"\" />\n            </div>\n            <div className=\"action\">\n              <p>支持 jpg、png 格式大小 2M 以内的图片</p>\n              <input type=\"file\" onChange={this.upLoadImg} />\n              <button className=\"save\">点击上传</button>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">用户名</div>\n          <div className=\"input\">\n            <input type=\"text\"\n              placeholder=\"填写你的用户名\"\n              value={profile.username}\n              onChange={(e) => this.props.setUsername(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">职位</div>\n          <div className=\"input\">\n            <input type=\"text\"\n              placeholder=\"填写你的职业\"\n              value={profile.profession}\n              onChange={(e) => this.props.setProfession(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">公司</div>\n          <div className=\"input\">\n            <input type=\"text\"\n              placeholder=\"填写你的公司\"\n              value={profile.company}\n              onChange={(e) => this.props.setCompany(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">个人介绍</div>\n          <div className=\"input\">\n            <input type=\"text\"\n              placeholder=\"填写职业技能、擅长的事情、喜欢的事情\"\n              value={profile.motto}\n              onChange={(e) => this.props.setMotto(e.target.value)}\n            />\n          </div>\n        </div>\n        <button className=\"save\" onClick={this.onSaveProfile}>保存</button>\n      </div>\n    )\n  }\n}\n\nexport default EditProfile;","import React from 'react';\nimport { UpdatePasswordPropsType, UpdatePasswordStateType, UpdatePasswordParamsType } from '../../data';\nimport { message } from 'antd';\n\nclass UpdatePassword extends React.Component<UpdatePasswordPropsType, UpdatePasswordStateType> {\n  constructor(props: UpdatePasswordPropsType) {\n    super(props);\n    this.state = {\n      oldPasswd: '',\n      newPasswd: '',\n      rNewPasswd: '',\n    }\n    this.onHandleOldPasswd = this.onHandleOldPasswd.bind(this);\n    this.onHandleNewPasswd = this.onHandleNewPasswd.bind(this);\n    this.onHandleRNewPasswd = this.onHandleRNewPasswd.bind(this);\n  }\n\n  /**\n   * 双向绑定\n   */\n  onHandleOldPasswd = (e: any) => {\n    this.setState({ oldPasswd: e.target.value });\n  }\n  onHandleNewPasswd = (e: any) => {\n    this.setState({ newPasswd: e.target.value });\n  }\n  onHandleRNewPasswd = (e: any) => {\n    this.setState({ rNewPasswd: e.target.value });\n  }\n\n  /**\n   * 保存修改\n   */\n  onSavePassword = () => {\n    const { oldPasswd, newPasswd, rNewPasswd } = this.state;\n    if (newPasswd !== rNewPasswd) {\n      message.error('两次输入的新密码不一致！', 2);\n    } else {\n      const params: UpdatePasswordParamsType = {\n        oldPassword: oldPasswd,\n        newPassword: newPasswd,\n      };\n      this.props.onSavePassword(params);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card\">\n        <h2>修改密码</h2>\n        <div className=\"row\">\n          <div className=\"label\">原密码</div>\n          <div className=\"input\">\n            <input type=\"password\"\n              placeholder=\"请输入原密码\"\n              value={this.state.oldPasswd}\n              onChange={this.onHandleOldPasswd}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">新密码</div>\n          <div className=\"input\">\n            <input type=\"password\"\n              placeholder=\"请输入新密码\"\n              value={this.state.newPasswd}\n              onChange={this.onHandleNewPasswd}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">确认新密码</div>\n          <div className=\"input\">\n            <input type=\"password\"\n              placeholder=\"确认新密码\"\n              value={this.state.rNewPasswd}\n              onChange={this.onHandleRNewPasswd}\n            />\n          </div>\n        </div>\n        <button className=\"save\" onClick={this.onSavePassword}>保存</button>\n      </div>\n    )\n  }\n}\n\nexport default UpdatePassword;","import React from 'react';\nimport './style.less';\nimport Header from '../../components/Header';\nimport SettingNav from './components/SetingNav';\nimport EditProfile from './components/EditProfile';\nimport UpdatePassword from './components/UpdatePassword';\n\nimport { getPersonalData } from '../../services/user/service';\nimport { ProfileType, UpdatePasswordParamsType, UpdateAvatarParamsType } from './data';\nimport { message } from 'antd';\n\nimport { uploadAvatar, updateUserData, updatePassword, updateAvatar } from '../../services/user/service';\n\nclass SettingCenter extends React.Component<any, ProfileType> {\n  state = {\n    username: '',\n    profession: '',\n    company: '',\n    motto: '',\n    avatar: '',\n  }\n\n  componentDidMount = () => {\n    getPersonalData().then((res: any) => {\n      if (res.state !== 302) {\n        this.setState({\n          avatar: res.data.avatar,\n          username: res.data.username,\n          profession: res.data.profession,\n          company: res.data.company,\n          motto: res.data.motto,\n        });\n      }\n    })\n  }\n\n  /**\n   * 双向绑定 用户名、职业、公司、个人简介\n   */\n  onHandleUsername = (username: string) => {\n    this.setState({ username })\n  }\n  onHandleProfession = (profession: string) => {\n    this.setState({ profession });\n  }\n  onHandleCompany = (company: string) => {\n    this.setState({ company });\n  }\n  onHandleMotto = (motto: string) => {\n    this.setState({ motto });\n  }\n\n  /**\n   * 上传头像并修改\n   */\n  upLoadImg = (params: any) => {\n    uploadAvatar(params).then(res => {\n      this.setState({ avatar: res.data.path });\n      const params: UpdateAvatarParamsType = { avatar: res.data.path };\n      updateAvatar(params).then((res: any) => {\n        if (res.state === 200) {\n          message.success('头像已更新！', 2);\n        } else {\n          message.error(res.msg, 2);\n        }\n      });\n    });\n  }\n\n  /**\n   * 保存修改个人资料\n   */\n  onSaveProfile = (params: ProfileType) => {\n    updateUserData(params).then((res: any) => {\n      if (!res.state) {\n        message.success('修改成功！', 1.5);\n      } else {\n        message.error(res.msg, 1.5);\n      }\n    })\n  }\n\n  /**\n   * 保存修改密码\n   */\n  onSavePassword = (params: UpdatePasswordParamsType) => {\n    updatePassword(params).then((res: any) => {\n      if (!res.state) {\n        message.success('修改成功', 2);\n      } else {\n        message.error(res.msg, 2);\n      }\n    })\n  }\n\n  render() {\n    const profile = this.state;\n\n    const type = this.props.match.params.type;\n    let component = null;\n    switch (type) {\n      case 'profile':\n        component = <EditProfile\n          upLoadAvatar={this.upLoadImg}\n          setUsername={this.onHandleUsername}\n          setProfession={this.onHandleProfession}\n          setCompany={this.onHandleCompany}\n          setMotto={this.onHandleMotto}\n          profile={profile} onSaveProfile={this.onSaveProfile}\n        />;\n        break;\n      case 'password':\n        component = <UpdatePassword onSavePassword={this.onSavePassword} />;\n        break;\n    }\n\n    return (\n      <>\n        <Header />\n        <SettingNav type={type} />\n        <main className=\"edit-profile\">\n          <div className=\"container\">\n            {component}\n          </div>\n        </main>\n      </>\n    )\n  }\n}\n\nexport default SettingCenter;","import { request } from '../request';\nimport {\n  LoginParamsType,\n  GetUserDataParamsType,\n  UpdateDataParamsType,\n  UpdateAvatarParamsType,\n  UpdatePasswordParamsType,\n} from './data';\n\n/**\n * 登录\n */\nexport function login(params: LoginParamsType) {\n  return request.post('/user/login', params);\n}\n\n/**\n * 注册\n */\nexport function register(params: LoginParamsType) {\n  return request.post('/user/register', params);\n}\n\n/**\n * 退出\n */\nexport function logout() {\n  return request.post('/user/logout', {});\n}\n\n/**\n * 获取当前登录人的信息\n */\nexport function getPersonalData() {\n  return request.get('/user/get/personaldata', {});\n}\n\n/**\n * 获取用户资料\n */\nexport function getUserData(params: GetUserDataParamsType) {\n  return request.get('/user/get/data', params);\n}\n\n/**\n * 修改个人基本资料\n */\nexport function updateUserData(params: UpdateDataParamsType) {\n  return request.get('/user/update/data', params);\n}\n\n/**\n * 修改头像\n */\nexport function updateAvatar(params: UpdateAvatarParamsType) {\n  return request.get('/user/update/avatar', params);\n}\n\n/**\n * 修改密码\n */\nfunction updatePassword(params: UpdatePasswordParamsType) {\n  return request.get('/user/update/password', params);\n}\n\n/**\n * 上传头像\n */\nfunction uploadAvatar(params: any) {\n  return request.filePost('/img/upload', params);\n}\n\nexport {\n  uploadAvatar, updatePassword\n}","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { NavListType } from './data';\nimport './style.less';\n\nconst logo = require('../../assets/logo.png');\nconst NAV_LIST: NavListType[] = [\n  { title: '首页', link: '/' },\n  { title: '专题', link: '/a' },\n  { title: '面试', link: '/b' },\n  { title: '小册', link: '/c' },\n  { title: 'APP', link: '/d' },\n  { title: 'GitHub', link: '/e' }\n];\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <header className=\"header\">\n        <div className=\"container\">\n          <img src={logo} alt=\"\" className=\"logo\" />\n          <ul className=\"nav-list\">\n            {\n              NAV_LIST.map((item: NavListType) => (\n                <li key={item.title}><Link to={item.link}>{item.title}</Link></li>\n              ))\n            }\n          </ul>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default Header;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK0AAAAVCAYAAAA0Nm5bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjBBRTE0MTM0RUM1MTFFMkFGOTM4RDRGNDg3QkVGOEQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjBBRTE0MTQ0RUM1MTFFMkFGOTM4RDRGNDg3QkVGOEQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MEFFMTQxMTRFQzUxMUUyQUY5MzhENEY0ODdCRUY4RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MEFFMTQxMjRFQzUxMUUyQUY5MzhENEY0ODdCRUY4RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpT2C0UAAASVSURBVHja7BqLVeMwLPBuAa/gFXIj5EYII/hGCCOEEXIjpCOkI7gjuCOYEUJ6T7kTQvKvBVqI3tOjxJKjn2VZzt08z9UG7woK/j5vprgM3C9YL3iKXBeg64DGA/0tg4voemnwgJ8Fq+9iOC3Y3krQrqAFmpMiPfx+WPBw40GrA7p+Z2gWHJGvbyJoOahBkRP8XnC/+fbLQ3ftu+l9JCNN8PtxwT+bP78E3DH4yGTdmwtaBQGrIFifEurDdXtxiTXSaVEMiN7B/5qhm9ECojDAeCPsFCFeSffTFmmB18L/KmFHclC/TomO5/hMQu1dImMInjLKhxm9c5V1QhjyMZZVC3p1SK+Vvnul2zzP9fwfKsAJ/h/RMw5XGOCvW9DOr6Fl+JoFPaLBPB7GMb2DMc3M5ZEMdKyHsY6RmdOnRu+yoL9FctWCLlh2i+YYAu9rA3wT0utcGTviD05vSkPtbGYZBmH+mviYg1bQiwO36sYF7YgMUiUGrWUCrUcOwM8VUqYTjOeBjs5lhIDxgFS+1Zl1QtAqZLRWCDCXoUtDFiMe0xE+J/CVyNjNeWAYWSlYsrC4oB3Rswnk6NBz7GNFdLaI3pLnb4K2F4ImFLReGFOC4ftAZqzQyu2Z4JwE2tUxDWNsJyw0Kdv0kWxkmGdDwAa+wAYS3zkypkDP+H3gsh2SU8q0GBSzECQZh0BM/NWNBu0cYa4SAyA0HtrqQ8HmGQN4CGTFyGwEB0syW8HAdBFOTBmlM21gz+TLkTE301oyv42UepUQtI4Eew8+0QHbS7rhBDj9IIXwAXqx64HgmTlZnns7pGHeo0BzhHEN9OtN0g5kauB3A+M7oDmQw0+L+KrEQ9Ha8on1eTFPSJfQu0r5cmXkugfSIUvBOww6nOH21y5D1kfULtVE5iOM75h3+KgNSKbVTBFtLphpVaSkCGXVhhwOB0LTofo19B6pVkwFl1gehd5XwlcqY8pBDJcsnI6pfp6Z+nwMHMgMwx8FqXtAT8XNFZQHFanzPNkGNSoH2kCJI8nsI1tvFdjWPqo8KJGxJGilbb7NDFra9TCopMI+toHOxRsMXS7s4RasgjR/qVuSXWSL6wJb0R7RKEJzhBKhLSgNMK3J4NlHdMHlDcdnAnyXkjH1CtcQW1JZK+iv1oK/KBjSOz5Az/8XU8ZgP42C/ibWp+VWoGdWQUmmLWl50baOlHE60vtMKT0U04biMoph+ta4HfQRLa8SGXMPYnSHqgtaXriF5WG+tYU1kVYYjQnK06O5OqlPy+EonCxLgrbkcoGr66ywBc2RixHcJ3TEQVguB7TYOWPmJUHp5cKQaLsUGXOD1jHJIPdyQTOXTBToRUjKZcSbPq2L1BLcLZmL8IXGNVlFa1skVtOMkQOijdThGunimHkUyGFJYDSRem0E2rXWbhNswPE1CQkhR8YuI1iHQL3ckAsDKxykuMxPE5TkZ8VcKHiY45+f7raPwK/280kHdeDPzRx5nyZu8H4wCh/VKPjIJPcg+X0+U9sy7aeAgq+XNJzU8YVKjQL2YTPVFrTXBh1k2xoC+YhaQ9sH9wK8CDAAxVF6p95oy2sAAAAASUVORK5CYII=\""],"sourceRoot":""}